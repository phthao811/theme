{%- if collection.metafields.my_fields.counpon != blank -%}
<!-- coupon_code.liquid -->
<div
  class="modal fade"
  id="jsCoupon"
  role="dialog"
  aria-hidden="true"
  data-delay="{{ settings.coupon_time | times: 1000 }}"
>
  <div class="modal-dialog modal-dialog--coupon modal-dialog-centered" role="document">
    <div
      class="modal-content"
      {%- if settings.coupon_background != "blank" -%}style="background:url({{ settings.coupon_background }}) white no-repeat center"{%-endif-%}
    >
      <div class="modal-header">
        <button style="color: #fff" type="button" class="close" data-dismiss="modal">
          {%- render 'icon-close' -%}
        </button>  
      </div>
      <div class="modal-body pb-5">
        <p class="coupon-promotion">{{ collection.metafields.info.promotion }}</p>
        <h3>{{ settings.coupon_title }}</h3>
        <p>{{ settings.coupon_description }}</p>
        <div class="position-relative pt-3">
          <input
            id="coupon_code"
            type="text"
            value="{{ collection.metafields.my_fields.counpon }}"
          />
          <button class="btn btn-theme js-btn-coupon">Copy</button>
        </div>
        <div class="coupon-copied" style="display: none">Coupon code copied</div>
      </div>
    </div>
  </div>
</div>
<style>
  .modal-dialog--coupon {
    max-width: 400px !important;
    text-align: center;
  }
  #coupon_code {
    background: 0 0;
    text-align: center;
    font-weight: 700;
    color: #fff;
    border: 2px dashed #fff;
    transition: all ease 0.45s;
    cursor: pointer;
    padding: 0;
    font-size: 20px;
  }
  .js-btn-coupon {
    position: absolute;
    width: 100%;
    top: 0;
    left: 0;
    opacity: 0;
  }
  .modal-dialog--coupon {
    max-width: 520px !important;
    text-align: center;
  }
  .modal-body {
    padding: 35px 15px 15px;
  }
  .modal-body h3 {
    font-weight: 800;
    font-size: 30px;
    line-height: 46px;
    color: #fff;
    text-transform: uppercase;
    font-family: 'Mulish';
  }
  .modal-body p {
    margin: 0 0 5px;
    line-height: 1.8;
    color: #fff;
  }
  .modal-body p {
    margin: 0 0 10px;
    line-height: 1.8;
    color: #fff;
  }
  .coupon-copied {
    color: #fff;
  }
  .modal-content:before {
    width: 100%;
    height: 100%;
    color: #000;
    background: currentcolor;
    opacity: 0.75;
    content: "";
    display: block;
    transition: all linear 0.3s;
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
  }
  .modal-dialog--coupon .modal-content {
    border: none;
  }
</style>
{%- endif -%}
